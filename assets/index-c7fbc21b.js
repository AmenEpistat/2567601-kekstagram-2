var tn=(s,l)=>()=>(l||s((l={exports:{}}).exports,l),l.exports);var Nn=tn((je,ze)=>{(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const M of document.querySelectorAll('link[rel="modulepreload"]'))j(M);new MutationObserver(M=>{for(const D of M)if(D.type==="childList")for(const te of D.addedNodes)te.tagName==="LINK"&&te.rel==="modulepreload"&&j(te)}).observe(document,{childList:!0,subtree:!0});function g(M){const D={};return M.integrity&&(D.integrity=M.integrity),M.referrerPolicy&&(D.referrerPolicy=M.referrerPolicy),M.crossOrigin==="use-credentials"?D.credentials="include":M.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function j(M){if(M.ep)return;M.ep=!0;const D=g(M);fetch(M.href,D)}})();const Fe=(s,l)=>{s.key==="Escape"&&l()},Nt=(s,l=!0)=>{l?s.classList.add("hidden"):s.classList.remove("hidden")};function rn(s,l=500){let g;return(...j)=>{clearTimeout(g),g=setTimeout(()=>s.apply(this,j),l)}}const jt=document.querySelector(".img-upload__form"),we=jt.querySelector(".img-upload__preview").querySelector("img"),nn=jt.querySelectorAll(".effects__preview"),sn=s=>{const l=s.target.files[0];if(!l)return;const g=URL.createObjectURL(l);we.src=g,nn.forEach(j=>{j.style.backgroundImage=`url(${g})`})},an=document.querySelector(".effects__list"),Ue=document.querySelector(".effect-level__value"),Oe=document.querySelector(".effect-level__slider"),zt=document.querySelector(".img-upload__effect-level"),on=document.getElementById("effect-none");let se="";noUiSlider.create(Oe,{range:{min:0,max:100},start:100,step:5,connect:"lower",format:{to:function(s){return Number.isInteger(s)?s.toFixed(0):s.toFixed(1)},from:function(s){return parseFloat(s)}}});const Ee=(s,l,g)=>{Oe.noUiSlider.updateOptions({range:{min:s,max:l},step:g,start:l})},Rt=s=>{switch(se){case"blur":we.style.filter=`${se}(${s}px)`;break;case"invert":we.style.filter=`${se}(${s}%)`;break;default:we.style.filter=`${se}(${s})`}},It=()=>{we.style.filter="none",Ue.value="",Nt(zt,!0),on.checked=!0},ln={"effect-chrome":()=>{Ee(0,1,.1),se="grayscale"},"effect-sepia":()=>{Ee(0,1,.1),se="sepia"},"effect-marvin":()=>{Ee(0,100,1),se="invert"},"effect-phobos":()=>{Ee(0,3,.1),se="blur"},"effect-heat":()=>{Ee(1,3,.1),se="brightness"}};Oe.noUiSlider.on("update",()=>{Ue.value=Oe.noUiSlider.get(),Rt(Ue.value)});an.addEventListener("change",s=>{s.target.id!=="effect-none"?(Nt(zt,!1),ln[s.target.id](),Rt(Ue.value)):It()});const $t={get:async()=>await(await fetch("https://31.javascript.htmlacademy.pro/kekstagram/data/")).json(),send:async s=>await(await fetch("https://31.javascript.htmlacademy.pro/kekstagram/",{method:"POST",body:s,headers:{}})).json()},Mt=25,cn=document.querySelector(".scale__control--bigger"),un=document.querySelector(".scale__control--smaller"),ot=document.querySelector(".scale__control--value"),fn=document.querySelector(".img-upload__form"),Bt=fn.querySelector(".img-upload__preview").querySelector("img"),Kt=s=>{let g=parseInt(ot.value,10)+Mt*s;g=Math.max(Mt,Math.min(g,100)),ot.value=`${g}%`,Bt.style.transform=`scale(${g/100})`},dn=()=>{Bt.style.transform="scale(1)",ot.value="100%"};cn.addEventListener("click",()=>{Kt(1)});un.addEventListener("click",()=>{Kt(-1)});const ae=document.querySelector(".img-upload__form"),ut=ae.querySelector(".img-upload__input"),Xt=ae.querySelector(".img-upload__overlay"),Zt=document.querySelector("body"),Yt=ae.querySelector(".img-upload__cancel"),He=ae.querySelector(".img-upload__submit"),ft=ae.querySelector(".text__hashtags"),dt=ae.querySelector(".text__description"),mn=document.querySelector("#error").content.querySelector(".error"),pn=document.querySelector("#success").content.querySelector(".success");let Se,pe="",le=null;const Gt=()=>{Xt.classList.toggle("hidden"),Zt.classList.toggle("modal-open");const s=document.querySelector(".pictures");s&&s.classList.contains("hidden")&&s.classList.remove("hidden")};function _e(){ut.value="",ft.value="",dt.value="",pe="",It(),dn(),Se.reset(),Yt.removeEventListener("click",_e),document.removeEventListener("keydown",Wt),document.removeEventListener("click",mt),Gt()}function Wt(s){le?Fe(s,Re):document.activeElement!==ft&&document.activeElement!==dt&&Fe(s,_e)}function mt(s){!Xt.contains(s.target)&&s.target!==ut&&!le&&_e()}function Re(){le&&(le.remove(),le=null),document.removeEventListener("keydown",Jt),document.removeEventListener("click",Qt),document.removeEventListener("click",mt)}function Jt(s){Fe(s,Re)}function Qt(s){le&&!le.querySelector(".success__inner, .error__inner").contains(s.target)&&Re()}const Tt=s=>{const l=s.cloneNode(!0);Zt.append(l),le=l,l.classList.contains("hidden")&&l.classList.remove("hidden");const g=l.querySelector(".error__button")||l.querySelector(".success__button");g&&g.addEventListener("click",Re),document.addEventListener("keydown",Jt),document.addEventListener("click",Qt)},hn=s=>{pe="";const l=s.trim().split("");return!l||l.length<=140?!0:(pe="Длина комментария должна быть не больше 140 символов",!1)},vn=s=>{pe="";const l=s.toLowerCase().trim();if(!l)return!0;const g=l.split(/\s+/);return[{check:new Set(g).size!==g.length,error:"Хештеги не должны повторяться"},{check:g.some(D=>D.length>20),error:"Хештег не может быть больше 20 символов"},{check:g.length>5,error:"Нельзя указать больше 5 хештегов"},{check:g.some(D=>!/^#[a-zа-яё0-9]{1,19}$/i.test(D)),error:"Хэштег невалиден"}].every(D=>(D.check&&(pe=D.error),!D.check))},gn=async s=>{try{const l=new FormData(s);await $t.send(l),_e(),Tt(pn)}catch{Tt(mn)}finally{He.disabled=!1,He.textContent="Опубликовать"}},Sn=()=>{Se=new Pristine(ae,{classTo:"img-upload__field-wrapper",errorTextParent:"img-upload__field-wrapper",errorClass:"img-upload__field-wrapper--error"}),Se.addValidator(ft,vn,()=>pe),Se.addValidator(dt,hn,()=>pe),ae.addEventListener("submit",async s=>{s.preventDefault(),Se.validate()&&(He.disabled=!0,He.textContent="Публикую...",gn(ae))})};ut.addEventListener("change",s=>{Se.reset(),Gt(),sn(s),Yt.addEventListener("click",_e),document.addEventListener("keydown",Wt),document.addEventListener("click",mt)});Sn();const Te={DEFAULT:"filter-default",RANDOM:"filter-random",DISCUSSED:"filter-discussed"},Ft=document.querySelector(".img-filters");let lt=Te.DEFAULT,Ce=[];const yn=rn(s=>{er(s)},500),bn=()=>{let s=[];switch(lt){case Te.DEFAULT:s=Ce.slice();break;case Te.RANDOM:s=Ce.slice().sort(()=>.5-Math.random()).slice(0,10);break;case Te.DISCUSSED:s=Ce.slice().sort((l,g)=>g.comments.length-l.comments.length);break}yn(s)},En=s=>{const l=s.target.closest("button.img-filters__button");if(!l||l.id===lt)return;const g=document.querySelector(".img-filters__button--active");g&&g.classList.remove("img-filters__button--active"),l.classList.add("img-filters__button--active"),lt=l.id,bn()},wn=s=>{Ft.classList.remove("img-filters--inactive"),Ft.addEventListener("click",En),Ce=s,er(Ce)},ct=document.querySelector(".pictures"),Cn=document.querySelector("#picture").content.querySelector(".picture"),xn=document.querySelector("#data-error").content.querySelector(".data-error"),Pn=document.querySelector("body");let Ne=[];const er=(s=Ne)=>{ct.querySelectorAll(".picture").forEach(g=>g.remove());const l=document.createDocumentFragment();s.forEach(({id:g,url:j,description:M,likes:D,comments:te})=>{const I=Cn.cloneNode(!0);I.dataset.pictureId=g,I.querySelector("img").src=j,I.querySelector("img").alt=M,I.querySelector(".picture__comments").textContent=te.length,I.querySelector(".picture__likes").textContent=D,l.append(I)}),ct.append(l)},_n=()=>{const s=xn.cloneNode(!0);return Pn.append(s),s},Ln=s=>{s.remove()},kn=async()=>{try{Ne=await $t.get(),wn(Ne)}catch{const l=_n();setTimeout(()=>Ln(l),5e3)}};kn();const Ut=5;let me=0,xe=[];const pt=document.querySelector(".big-picture"),Ie=pt.querySelector(".social__comments"),qn=Ie.querySelector(".social__comment"),Ot=pt.querySelector(".social__comment-count"),Pe=pt.querySelector(".social__comments-loader"),An=s=>{const l=document.createDocumentFragment();s.forEach(g=>{const j=qn.cloneNode(!0);j.querySelector(".social__picture").src=g.avatar,j.querySelector(".social__picture").alt=g.name,j.querySelector(".social__text").textContent=g.message,l.appendChild(j)}),Ie.append(l)},tr=()=>{me===0&&(Ie.innerHTML="");const s=xe.slice(me,me+Ut),l=s.length+me;An(s),Ot.querySelector(".social__comment-shown-count").textContent=`${l}`,Ot.querySelector(".social__comment-total-count").textContent=xe.length,l>=xe.length?Pe.classList.add("hidden"):Pe.classList.remove("hidden"),me+=Ut},rr=()=>{tr()},Dn=s=>{xe=s,me=0,Pe.classList.remove("hidden"),tr(),Pe.addEventListener("click",rr)},Vn=()=>{Ie.innerHTML="",me=0,xe=[],Pe.removeEventListener("click",rr)},he=document.querySelector(".big-picture"),Ht=he.querySelector(".big-picture__img").querySelector("img"),Mn=he.querySelector(".likes-count"),Tn=he.querySelector(".social__comment-shown-count"),Fn=he.querySelector(".social__caption"),Un=he.querySelector(".big-picture__cancel");function On(){ir()}const nr=s=>{Fe(s,ir)};function ir(){he.classList.add("hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",nr),Vn()}const Hn=s=>{const l=Ne.find(g=>g.id===Number(s));Ht.src=l.url,Ht.alt=l.description,Mn.textContent=l.likes,Tn.textContent=l.comments.length,Fn.textContent=l.description,Dn(l.comments),he.classList.remove("hidden"),document.body.classList.add("modal-open"),Un.addEventListener("click",On),document.addEventListener("keydown",nr)};(function(s,l){typeof je=="object"&&typeof ze<"u"?ze.exports=l():typeof define=="function"&&define.amd?define(l):(s=typeof globalThis<"u"?globalThis:s||self).Pristine=l()})(globalThis,function(){var s={en:{required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format",equals:"The two fields do not match"}};function l(v){var L=arguments;return this.replace(/\${([^{}]*)}/g,function(Z,p){return L[p]})}function g(v){return v.pristine.self.form.querySelectorAll('input[name="'+v.getAttribute("name")+'"]:checked').length}var j={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},M=["required","min","max","minlength","maxlength","pattern"],D=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,te=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,I="en",Le={},T=function(v,L){L.name=v,L.priority===void 0&&(L.priority=1),Le[v]=L};function ce(v,L,Z){var p=this;function W(m,E,_,b){var y=Le[_];if(y&&(m.push(y),b)){var C=_==="pattern"?[b]:b.split(",");C.unshift(null),E[_]=C}}function $e(m){for(var E=[],_=!0,b=0;m.validators[b];b++){var y=m.validators[b],C=m.params[y.name]?m.params[y.name]:[];if(C[0]=m.input.value,!y.fn.apply(m.input,C)&&(_=!1,typeof y.msg=="function"?E.push(y.msg(m.input.value,C)):typeof y.msg=="string"?E.push(l.apply(y.msg,C)):y.msg===Object(y.msg)&&y.msg[I]?E.push(l.apply(y.msg[I],C)):m.messages[I]&&m.messages[I][y.name]?E.push(l.apply(m.messages[I][y.name],C)):s[I]&&s[I][y.name]&&E.push(l.apply(s[I][y.name],C)),y.halt===!0))break}return m.errors=E,_}function ye(m){if(m.errorElements)return m.errorElements;var E=function(y,C){for(;(y=y.parentElement)&&!y.classList.contains(C););return y}(m.input,p.config.classTo),_=null,b=null;return(_=p.config.classTo===p.config.errorTextParent?E:E.querySelector("."+p.config.errorTextParent))&&((b=_.querySelector(".pristine-error"))||((b=document.createElement(p.config.errorTextTag)).className="pristine-error "+p.config.errorTextClass,_.appendChild(b),b.pristineDisplay=b.style.display)),m.errorElements=[E,b]}function ke(m){var E=ye(m),_=E[0],b=E[1];_&&(_.classList.remove(p.config.successClass),_.classList.add(p.config.errorClass)),b&&(b.innerHTML=m.errors.join("<br/>"),b.style.display=b.pristineDisplay||"")}function Be(m){var E=function(_){var b=ye(_),y=b[0],C=b[1];return y&&(y.classList.remove(p.config.errorClass),y.classList.remove(p.config.successClass)),C&&(C.innerHTML="",C.style.display="none"),b}(m)[0];E&&E.classList.add(p.config.successClass)}return function(m,E,_){m.setAttribute("novalidate","true"),p.form=m,p.config=function(b,y){for(var C in y)C in b||(b[C]=y[C]);return b}(E||{},j),p.live=_!==!1,p.fields=Array.from(m.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea")).map((function(b){var y=[],C={},Q={};return[].forEach.call(b.attributes,function(K){if(/^data-pristine-/.test(K.name)){var ee=K.name.substr(14),ue=ee.match(te);if(ue!==null){var ve=ue[1]===void 0?"en":ue[1];return Q.hasOwnProperty(ve)||(Q[ve]={}),void(Q[ve][ee.slice(0,ee.length-ue[0].length)]=K.value)}ee==="type"&&(ee=K.value),W(y,C,ee,K.value)}else~M.indexOf(K.name)?W(y,C,K.name,K.value):K.name==="type"&&W(y,C,K.value)}),y.sort(function(K,ee){return ee.priority-K.priority}),p.live&&b.addEventListener(~["radio","checkbox"].indexOf(b.getAttribute("type"))?"change":"input",(function(K){p.validate(K.target)}).bind(p)),b.pristine={input:b,validators:y,params:C,messages:Q,self:p}}).bind(p))}(v,L,Z),p.validate=function(m,E){E=m&&E===!0||m===!0;var _=p.fields;m!==!0&&m!==!1&&(m instanceof HTMLElement?_=[m.pristine]:(m instanceof NodeList||m instanceof(window.$||Array)||m instanceof Array)&&(_=Array.from(m).map(function(Q){return Q.pristine})));for(var b=!0,y=0;_[y];y++){var C=_[y];$e(C)?!E&&Be(C):(b=!1,!E&&ke(C))}return b},p.getErrors=function(m){if(!m){for(var E=[],_=0;_<p.fields.length;_++){var b=p.fields[_];b.errors.length&&E.push({input:b.input,errors:b.errors})}return E}return m.tagName&&m.tagName.toLowerCase()==="select"?m.pristine.errors:m.length?m[0].pristine.errors:m.pristine.errors},p.addValidator=function(m,E,_,b,y){m instanceof HTMLElement?(m.pristine.validators.push({fn:E,msg:_,priority:b,halt:y}),m.pristine.validators.sort(function(C,Q){return Q.priority-C.priority})):console.warn("The parameter elem must be a dom element")},p.addError=function(m,E){(m=m.length?m[0]:m).pristine.errors.push(E),ke(m.pristine)},p.reset=function(){for(var m=0;p.fields[m];m++)p.fields[m].errorElements=null;Array.from(p.form.querySelectorAll(".pristine-error")).map(function(E){E.parentNode.removeChild(E)}),Array.from(p.form.querySelectorAll("."+p.config.classTo)).map(function(E){E.classList.remove(p.config.successClass),E.classList.remove(p.config.errorClass)})},p.destroy=function(){p.reset(),p.fields.forEach(function(m){delete m.input.pristine}),p.fields=[]},p.setGlobalConfig=function(m){j=m},p}return T("text",{fn:function(v){return!0},priority:0}),T("required",{fn:function(v){return this.type==="radio"||this.type==="checkbox"?g(this):v!==void 0&&v!==""},priority:99,halt:!0}),T("email",{fn:function(v){return!v||D.test(v)}}),T("number",{fn:function(v){return!v||!isNaN(parseFloat(v))},priority:2}),T("integer",{fn:function(v){return!v||/^\d+$/.test(v)}}),T("minlength",{fn:function(v,L){return!v||v.length>=parseInt(L)}}),T("maxlength",{fn:function(v,L){return!v||v.length<=parseInt(L)}}),T("min",{fn:function(v,L){return!v||(this.type==="checkbox"?g(this)>=parseInt(L):parseFloat(v)>=parseFloat(L))}}),T("max",{fn:function(v,L){return!v||(this.type==="checkbox"?g(this)<=parseInt(L):parseFloat(v)<=parseFloat(L))}}),T("pattern",{fn:function(v,L){var Z=L.match(new RegExp("^/(.*?)/([gimy]*)$"));return!v||new RegExp(Z[1],Z[2]).test(v)}}),T("equals",{fn:function(v,L){var Z=document.querySelector(L);return Z&&(!v&&!Z.value||Z.value===v)}}),ce.addValidator=function(v,L,Z,p,W){T(v,{fn:L,msg:Z,priority:p,halt:W})},ce.addMessages=function(v,L){var Z=s.hasOwnProperty(v)?s[v]:s[v]={};Object.keys(L).forEach(function(p,W){Z[p]=L[p]})},ce.setLocale=function(v){I=v},ce});/*! nouislider - 15.6.0 - 05/01/2022 */(function(s,l){typeof je=="object"&&typeof ze<"u"?l(je):typeof define=="function"&&define.amd?define(["exports"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.noUiSlider={}))})(globalThis,function(s){s.PipsMode=void 0,function(t){t.Range="range",t.Steps="steps",t.Positions="positions",t.Count="count",t.Values="values"}(s.PipsMode||(s.PipsMode={})),s.PipsType=void 0,function(t){t[t.None=-1]="None",t[t.NoValue=0]="NoValue",t[t.LargeValue=1]="LargeValue",t[t.SmallValue=2]="SmallValue"}(s.PipsType||(s.PipsType={}));function l(t){return g(t)&&typeof t.from=="function"}function g(t){return typeof t=="object"&&typeof t.to=="function"}function j(t){t.parentElement.removeChild(t)}function M(t){return t!=null}function D(t){t.preventDefault()}function te(t){return t.filter(function(e){return this[e]?!1:this[e]=!0},{})}function I(t,e){return Math.round(t/e)*e}function Le(t,e){var o=t.getBoundingClientRect(),f=t.ownerDocument,d=f.documentElement,P=ye(f);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(P.x=0),e?o.top+P.y-d.clientTop:o.left+P.x-d.clientLeft}function T(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function ce(t,e,o){o>0&&(p(t,e),setTimeout(function(){W(t,e)},o))}function v(t){return Math.max(Math.min(t,100),0)}function L(t){return Array.isArray(t)?t:[t]}function Z(t){t=String(t);var e=t.split(".");return e.length>1?e[1].length:0}function p(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function W(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function $e(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function ye(t){var e=window.pageXOffset!==void 0,o=(t.compatMode||"")==="CSS1Compat",f=e?window.pageXOffset:o?t.documentElement.scrollLeft:t.body.scrollLeft,d=e?window.pageYOffset:o?t.documentElement.scrollTop:t.body.scrollTop;return{x:f,y:d}}function ke(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function Be(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch{}return t}function m(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function E(t,e){return 100/(e-t)}function _(t,e,o){return e*100/(t[o+1]-t[o])}function b(t,e){return _(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}function y(t,e){return e*(t[1]-t[0])/100+t[0]}function C(t,e){for(var o=1;t>=e[o];)o+=1;return o}function Q(t,e,o){if(o>=t.slice(-1)[0])return 100;var f=C(o,t),d=t[f-1],P=t[f],w=e[f-1],F=e[f];return w+b([d,P],o)/E(w,F)}function K(t,e,o){if(o>=100)return t.slice(-1)[0];var f=C(o,e),d=t[f-1],P=t[f],w=e[f-1],F=e[f];return y([d,P],(o-w)*E(w,F))}function ee(t,e,o,f){if(f===100)return f;var d=C(f,t),P=t[d-1],w=t[d];return o?f-P>(w-P)/2?w:P:e[d-1]?t[d-1]+I(f-t[d-1],e[d-1]):f}var ue=function(){function t(e,o,f){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[f||!1],this.xNumSteps=[!1],this.snap=o;var d,P=[];for(Object.keys(e).forEach(function(w){P.push([L(e[w]),w])}),P.sort(function(w,F){return w[0][0]-F[0][0]}),d=0;d<P.length;d++)this.handleEntryPoint(P[d][1],P[d][0]);for(this.xNumSteps=this.xSteps.slice(0),d=0;d<this.xNumSteps.length;d++)this.handleStepPoint(d,this.xNumSteps[d])}return t.prototype.getDistance=function(e){for(var o=[],f=0;f<this.xNumSteps.length-1;f++)o[f]=_(this.xVal,e,f);return o},t.prototype.getAbsoluteDistance=function(e,o,f){var d=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[d+1];)d++;else e===this.xPct[this.xPct.length-1]&&(d=this.xPct.length-2);!f&&e===this.xPct[d+1]&&d++,o===null&&(o=[]);var P,w=1,F=o[d],x=0,Y=0,J=0,R=0;for(f?P=(e-this.xPct[d])/(this.xPct[d+1]-this.xPct[d]):P=(this.xPct[d+1]-e)/(this.xPct[d+1]-this.xPct[d]);F>0;)x=this.xPct[d+1+R]-this.xPct[d+R],o[d+R]*w+100-P*100>100?(Y=x*P,w=(F-100*P)/o[d+R],P=1):(Y=o[d+R]*x/100*w,w=0),f?(J=J-Y,this.xPct.length+R>=1&&R--):(J=J+Y,this.xPct.length-R>=1&&R++),F=o[d+R]*w;return e+J},t.prototype.toStepping=function(e){return e=Q(this.xVal,this.xPct,e),e},t.prototype.fromStepping=function(e){return K(this.xVal,this.xPct,e)},t.prototype.getStep=function(e){return e=ee(this.xPct,this.xSteps,this.snap,e),e},t.prototype.getDefaultStep=function(e,o,f){var d=C(e,this.xPct);return(e===100||o&&e===this.xPct[d-1])&&(d=Math.max(d-1,1)),(this.xVal[d]-this.xVal[d-1])/f},t.prototype.getNearbySteps=function(e){var o=C(e,this.xPct);return{stepBefore:{startValue:this.xVal[o-2],step:this.xNumSteps[o-2],highestStep:this.xHighestCompleteStep[o-2]},thisStep:{startValue:this.xVal[o-1],step:this.xNumSteps[o-1],highestStep:this.xHighestCompleteStep[o-1]},stepAfter:{startValue:this.xVal[o],step:this.xNumSteps[o],highestStep:this.xHighestCompleteStep[o]}}},t.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(Z);return Math.max.apply(null,e)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(e){return this.getStep(this.toStepping(e))},t.prototype.handleEntryPoint=function(e,o){var f;if(e==="min"?f=0:e==="max"?f=100:f=parseFloat(e),!T(f)||!T(o[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(f),this.xVal.push(o[0]);var d=Number(o[1]);f?this.xSteps.push(isNaN(d)?!1:d):isNaN(d)||(this.xSteps[0]=d),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(e,o){if(o){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=_([this.xVal[e],this.xVal[e+1]],o,0)/E(this.xPct[e],this.xPct[e+1]);var f=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],d=Math.ceil(Number(f.toFixed(3))-1),P=this.xVal[e]+this.xNumSteps[e]*d;this.xHighestCompleteStep[e]=P}},t}(),ve={to:function(t){return t===void 0?"":t.toFixed(2)},from:Number},Ke={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},oe={tooltips:".__tooltips",aria:".__aria"};function sr(t,e){if(!T(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function ar(t,e){if(!T(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function or(t,e){if(!T(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function lr(t,e){if(!T(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function cr(t,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new ue(e,t.snap||!1,t.singleStep)}function ur(t,e){if(e=L(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function fr(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function dr(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function mr(t,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function pr(t,e){var o=[!1],f;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(f=1;f<t.handles;f++)o.push(e);o.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");o=e}t.connect=o}function hr(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function ht(t,e){if(!T(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(t.margin=t.spectrum.getDistance(e))}function vr(t,e){if(!T(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function gr(t,e){var o;if(!T(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||T(e[0])||T(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],o=0;o<t.spectrum.xNumSteps.length-1;o++)if(t.padding[0][o]<0||t.padding[1][o]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var f=e[0]+e[1],d=t.spectrum.xVal[0],P=t.spectrum.xVal[t.spectrum.xVal.length-1];if(f/(P-d)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Sr(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function yr(t,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var o=e.indexOf("tap")>=0,f=e.indexOf("drag")>=0,d=e.indexOf("fixed")>=0,P=e.indexOf("snap")>=0,w=e.indexOf("hover")>=0,F=e.indexOf("unconstrained")>=0,x=e.indexOf("drag-all")>=0,Y=e.indexOf("smooth-steps")>=0;if(d){if(t.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");ht(t,t.start[1]-t.start[0])}if(F&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:o||P,drag:f,dragAll:x,smoothSteps:Y,fixed:d,snap:P,hover:w,unconstrained:F}}function br(t,e){if(e!==!1)if(e===!0||g(e)){t.tooltips=[];for(var o=0;o<t.handles;o++)t.tooltips.push(e)}else{if(e=L(e),e.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(f){if(typeof f!="boolean"&&!g(f))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),t.tooltips=e}}function Er(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function wr(t,e){if(!g(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function Cr(t,e){if(!l(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function xr(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function Pr(t,e){t.documentElement=e}function _r(t,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function Lr(t,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof t.cssPrefix=="string"?(t.cssClasses={},Object.keys(e).forEach(function(o){t.cssClasses[o]=t.cssPrefix+e[o]})):t.cssClasses=e}function vt(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:ve,format:ve},o={step:{r:!1,t:sr},keyboardPageMultiplier:{r:!1,t:ar},keyboardMultiplier:{r:!1,t:or},keyboardDefaultStep:{r:!1,t:lr},start:{r:!0,t:ur},connect:{r:!0,t:pr},direction:{r:!0,t:Sr},snap:{r:!1,t:fr},animate:{r:!1,t:dr},animationDuration:{r:!1,t:mr},range:{r:!0,t:cr},orientation:{r:!1,t:hr},margin:{r:!1,t:ht},limit:{r:!1,t:vr},padding:{r:!1,t:gr},behaviour:{r:!0,t:yr},ariaFormat:{r:!1,t:wr},format:{r:!1,t:Cr},tooltips:{r:!1,t:br},keyboardSupport:{r:!0,t:xr},documentElement:{r:!1,t:Pr},cssPrefix:{r:!0,t:_r},cssClasses:{r:!0,t:Lr},handleAttributes:{r:!1,t:Er}},f={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Ke,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(o).forEach(function(x){if(!M(t[x])&&f[x]===void 0){if(o[x].r)throw new Error("noUiSlider: '"+x+"' is required.");return}o[x].t(e,M(t[x])?t[x]:f[x])}),e.pips=t.pips;var d=document.createElement("div"),P=d.style.msTransform!==void 0,w=d.style.transform!==void 0;e.transformRule=w?"transform":P?"msTransform":"webkitTransform";var F=[["left","top"],["right","bottom"]];return e.style=F[e.dir][e.ort],e}function kr(t,e,o){var f=ke(),d=m(),P=d&&Be(),w=t,F,x,Y,J,R,k=e.spectrum,re=[],H=[],G=[],Xe=0,ne={},ge=t.ownerDocument,qe=e.documentElement||ge.documentElement,Ae=ge.body,Ar=ge.dir==="rtl"||e.ort===1?0:100;function ie(r,n){var i=ge.createElement("div");return n&&p(i,n),r.appendChild(i),i}function Dr(r,n){var i=ie(r,e.cssClasses.origin),a=ie(i,e.cssClasses.handle);if(ie(a,e.cssClasses.touchArea),a.setAttribute("data-handle",String(n)),e.keyboardSupport&&(a.setAttribute("tabindex","0"),a.addEventListener("keydown",function(c){return Br(c,n)})),e.handleAttributes!==void 0){var u=e.handleAttributes[n];Object.keys(u).forEach(function(c){a.setAttribute(c,u[c])})}return a.setAttribute("role","slider"),a.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),n===0?p(a,e.cssClasses.handleLower):n===e.handles-1&&p(a,e.cssClasses.handleUpper),i}function St(r,n){return n?ie(r,e.cssClasses.connect):!1}function Vr(r,n){var i=ie(n,e.cssClasses.connects);x=[],Y=[],Y.push(St(i,r[0]));for(var a=0;a<e.handles;a++)x.push(Dr(n,a)),G[a]=a,Y.push(St(i,r[a+1]))}function Mr(r){p(r,e.cssClasses.target),e.dir===0?p(r,e.cssClasses.ltr):p(r,e.cssClasses.rtl),e.ort===0?p(r,e.cssClasses.horizontal):p(r,e.cssClasses.vertical);var n=getComputedStyle(r).direction;return n==="rtl"?p(r,e.cssClasses.textDirectionRtl):p(r,e.cssClasses.textDirectionLtr),ie(r,e.cssClasses.base)}function Tr(r,n){return!e.tooltips||!e.tooltips[n]?!1:ie(r.firstChild,e.cssClasses.tooltip)}function yt(){return w.hasAttribute("disabled")}function Ze(r){var n=x[r];return n.hasAttribute("disabled")}function Ye(){R&&(be("update"+oe.tooltips),R.forEach(function(r){r&&j(r)}),R=null)}function bt(){Ye(),R=x.map(Tr),et("update"+oe.tooltips,function(r,n,i){if(!(!R||!e.tooltips)&&R[n]!==!1){var a=r[n];e.tooltips[n]!==!0&&(a=e.tooltips[n].to(i[n])),R[n].innerHTML=a}})}function Fr(){be("update"+oe.aria),et("update"+oe.aria,function(r,n,i,a,u){G.forEach(function(c){var S=x[c],h=De(H,c,0,!0,!0,!0),V=De(H,c,100,!0,!0,!0),A=u[c],U=String(e.ariaFormat.to(i[c]));h=k.fromStepping(h).toFixed(1),V=k.fromStepping(V).toFixed(1),A=k.fromStepping(A).toFixed(1),S.children[0].setAttribute("aria-valuemin",h),S.children[0].setAttribute("aria-valuemax",V),S.children[0].setAttribute("aria-valuenow",A),S.children[0].setAttribute("aria-valuetext",U)})})}function Ur(r){if(r.mode===s.PipsMode.Range||r.mode===s.PipsMode.Steps)return k.xVal;if(r.mode===s.PipsMode.Count){if(r.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=r.values-1,i=100/n,a=[];n--;)a[n]=n*i;return a.push(100),Et(a,r.stepped)}return r.mode===s.PipsMode.Positions?Et(r.values,r.stepped):r.mode===s.PipsMode.Values?r.stepped?r.values.map(function(u){return k.fromStepping(k.getStep(k.toStepping(u)))}):r.values:[]}function Et(r,n){return r.map(function(i){return k.fromStepping(n?k.getStep(i):i)})}function Or(r){function n(A,U){return Number((A+U).toFixed(7))}var i=Ur(r),a={},u=k.xVal[0],c=k.xVal[k.xVal.length-1],S=!1,h=!1,V=0;return i=te(i.slice().sort(function(A,U){return A-U})),i[0]!==u&&(i.unshift(u),S=!0),i[i.length-1]!==c&&(i.push(c),h=!0),i.forEach(function(A,U){var O,q,z,X=A,$=i[U+1],B,nt,it,st,At,at,Dt,Vt=r.mode===s.PipsMode.Steps;for(Vt&&(O=k.xNumSteps[U]),O||(O=$-X),$===void 0&&($=X),O=Math.max(O,1e-7),q=X;q<=$;q=n(q,O)){for(B=k.toStepping(q),nt=B-V,At=nt/(r.density||1),at=Math.round(At),Dt=nt/at,z=1;z<=at;z+=1)it=V+z*Dt,a[it.toFixed(5)]=[k.fromStepping(it),0];st=i.indexOf(q)>-1?s.PipsType.LargeValue:Vt?s.PipsType.SmallValue:s.PipsType.NoValue,!U&&S&&q!==$&&(st=0),q===$&&h||(a[B.toFixed(5)]=[q,st]),V=B}}),a}function Hr(r,n,i){var a,u,c=ge.createElement("div"),S=(a={},a[s.PipsType.None]="",a[s.PipsType.NoValue]=e.cssClasses.valueNormal,a[s.PipsType.LargeValue]=e.cssClasses.valueLarge,a[s.PipsType.SmallValue]=e.cssClasses.valueSub,a),h=(u={},u[s.PipsType.None]="",u[s.PipsType.NoValue]=e.cssClasses.markerNormal,u[s.PipsType.LargeValue]=e.cssClasses.markerLarge,u[s.PipsType.SmallValue]=e.cssClasses.markerSub,u),V=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],A=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];p(c,e.cssClasses.pips),p(c,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function U(q,z){var X=z===e.cssClasses.value,$=X?V:A,B=X?S:h;return z+" "+$[e.ort]+" "+B[q]}function O(q,z,X){if(X=n?n(z,X):X,X!==s.PipsType.None){var $=ie(c,!1);$.className=U(X,e.cssClasses.marker),$.style[e.style]=q+"%",X>s.PipsType.NoValue&&($=ie(c,!1),$.className=U(X,e.cssClasses.value),$.setAttribute("data-value",String(z)),$.style[e.style]=q+"%",$.innerHTML=String(i.to(z)))}}return Object.keys(r).forEach(function(q){O(q,r[q][0],r[q][1])}),c}function Ge(){J&&(j(J),J=null)}function We(r){Ge();var n=Or(r),i=r.filter,a=r.format||{to:function(u){return String(Math.round(u))}};return J=w.appendChild(Hr(n,i,a)),J}function wt(){var r=F.getBoundingClientRect(),n="offset"+["Width","Height"][e.ort];return e.ort===0?r.width||F[n]:r.height||F[n]}function fe(r,n,i,a){var u=function(S){var h=Nr(S,a.pageOffset,a.target||n);if(!h||yt()&&!a.doNotReject||$e(w,e.cssClasses.tap)&&!a.doNotReject||r===f.start&&h.buttons!==void 0&&h.buttons>1||a.hover&&h.buttons)return!1;P||h.preventDefault(),h.calcPoint=h.points[e.ort],i(h,a)},c=[];return r.split(" ").forEach(function(S){n.addEventListener(S,u,P?{passive:!0}:!1),c.push([S,u])}),c}function Nr(r,n,i){var a=r.type.indexOf("touch")===0,u=r.type.indexOf("mouse")===0,c=r.type.indexOf("pointer")===0,S=0,h=0;if(r.type.indexOf("MSPointer")===0&&(c=!0),r.type==="mousedown"&&!r.buttons&&!r.touches)return!1;if(a){var V=function(O){var q=O.target;return q===i||i.contains(q)||r.composed&&r.composedPath().shift()===i};if(r.type==="touchstart"){var A=Array.prototype.filter.call(r.touches,V);if(A.length>1)return!1;S=A[0].pageX,h=A[0].pageY}else{var U=Array.prototype.find.call(r.changedTouches,V);if(!U)return!1;S=U.pageX,h=U.pageY}}return n=n||ye(ge),(u||c)&&(S=r.clientX+n.x,h=r.clientY+n.y),r.pageOffset=n,r.points=[S,h],r.cursor=u||c,r}function Ct(r){var n=r-Le(F,e.ort),i=n*100/wt();return i=v(i),e.dir?100-i:i}function jr(r){var n=100,i=!1;return x.forEach(function(a,u){if(!Ze(u)){var c=H[u],S=Math.abs(c-r),h=S===100&&n===100,V=S<n,A=S<=n&&r>c;(V||A||h)&&(i=u,n=S)}}),i}function zr(r,n){r.type==="mouseout"&&r.target.nodeName==="HTML"&&r.relatedTarget===null&&Je(r,n)}function Rr(r,n){if(navigator.appVersion.indexOf("MSIE 9")===-1&&r.buttons===0&&n.buttonsProperty!==0)return Je(r,n);var i=(e.dir?-1:1)*(r.calcPoint-n.startCalcPoint),a=i*100/n.baseSize;xt(i>0,a,n.locations,n.handleNumbers,n.connect)}function Je(r,n){n.handle&&(W(n.handle,e.cssClasses.active),Xe-=1),n.listeners.forEach(function(i){qe.removeEventListener(i[0],i[1])}),Xe===0&&(W(w,e.cssClasses.drag),rt(),r.cursor&&(Ae.style.cursor="",Ae.removeEventListener("selectstart",D))),e.events.smoothSteps&&(n.handleNumbers.forEach(function(i){de(i,H[i],!0,!0,!1,!1)}),n.handleNumbers.forEach(function(i){N("update",i)})),n.handleNumbers.forEach(function(i){N("change",i),N("set",i),N("end",i)})}function Qe(r,n){if(!n.handleNumbers.some(Ze)){var i;if(n.handleNumbers.length===1){var a=x[n.handleNumbers[0]];i=a.children[0],Xe+=1,p(i,e.cssClasses.active)}r.stopPropagation();var u=[],c=fe(f.move,qe,Rr,{target:r.target,handle:i,connect:n.connect,listeners:u,startCalcPoint:r.calcPoint,baseSize:wt(),pageOffset:r.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:r.buttons,locations:H.slice()}),S=fe(f.end,qe,Je,{target:r.target,handle:i,listeners:u,doNotReject:!0,handleNumbers:n.handleNumbers}),h=fe("mouseout",qe,zr,{target:r.target,handle:i,listeners:u,doNotReject:!0,handleNumbers:n.handleNumbers});u.push.apply(u,c.concat(S,h)),r.cursor&&(Ae.style.cursor=getComputedStyle(r.target).cursor,x.length>1&&p(w,e.cssClasses.drag),Ae.addEventListener("selectstart",D,!1)),n.handleNumbers.forEach(function(V){N("start",V)})}}function Ir(r){r.stopPropagation();var n=Ct(r.calcPoint),i=jr(n);i!==!1&&(e.events.snap||ce(w,e.cssClasses.tap,e.animationDuration),de(i,n,!0,!0),rt(),N("slide",i,!0),N("update",i,!0),e.events.snap?Qe(r,{handleNumbers:[i]}):(N("change",i,!0),N("set",i,!0)))}function $r(r){var n=Ct(r.calcPoint),i=k.getStep(n),a=k.fromStepping(i);Object.keys(ne).forEach(function(u){u.split(".")[0]==="hover"&&ne[u].forEach(function(c){c.call(Me,a)})})}function Br(r,n){if(yt()||Ze(n))return!1;var i=["Left","Right"],a=["Down","Up"],u=["PageDown","PageUp"],c=["Home","End"];e.dir&&!e.ort?i.reverse():e.ort&&!e.dir&&(a.reverse(),u.reverse());var S=r.key.replace("Arrow",""),h=S===u[0],V=S===u[1],A=S===a[0]||S===i[0]||h,U=S===a[1]||S===i[1]||V,O=S===c[0],q=S===c[1];if(!A&&!U&&!O&&!q)return!0;r.preventDefault();var z;if(U||A){var X=A?0:1,$=qt(n),B=$[X];if(B===null)return!1;B===!1&&(B=k.getDefaultStep(H[n],A,e.keyboardDefaultStep)),V||h?B*=e.keyboardPageMultiplier:B*=e.keyboardMultiplier,B=Math.max(B,1e-7),B=(A?-1:1)*B,z=re[n]+B}else q?z=e.spectrum.xVal[e.spectrum.xVal.length-1]:z=e.spectrum.xVal[0];return de(n,k.toStepping(z),!0,!0),N("slide",n),N("update",n),N("change",n),N("set",n),!1}function Kr(r){r.fixed||x.forEach(function(n,i){fe(f.start,n.children[0],Qe,{handleNumbers:[i]})}),r.tap&&fe(f.start,F,Ir,{}),r.hover&&fe(f.move,F,$r,{hover:!0}),r.drag&&Y.forEach(function(n,i){if(!(n===!1||i===0||i===Y.length-1)){var a=x[i-1],u=x[i],c=[n],S=[a,u],h=[i-1,i];p(n,e.cssClasses.draggable),r.fixed&&(c.push(a.children[0]),c.push(u.children[0])),r.dragAll&&(S=x,h=G),c.forEach(function(V){fe(f.start,V,Qe,{handles:S,handleNumbers:h,connect:n})})}})}function et(r,n){ne[r]=ne[r]||[],ne[r].push(n),r.split(".")[0]==="update"&&x.forEach(function(i,a){N("update",a)})}function Xr(r){return r===oe.aria||r===oe.tooltips}function be(r){var n=r&&r.split(".")[0],i=n?r.substring(n.length):r;Object.keys(ne).forEach(function(a){var u=a.split(".")[0],c=a.substring(u.length);(!n||n===u)&&(!i||i===c)&&(!Xr(c)||i===c)&&delete ne[a]})}function N(r,n,i){Object.keys(ne).forEach(function(a){var u=a.split(".")[0];r===u&&ne[a].forEach(function(c){c.call(Me,re.map(e.format.to),n,re.slice(),i||!1,H.slice(),Me)})})}function De(r,n,i,a,u,c,S){var h;return x.length>1&&!e.events.unconstrained&&(a&&n>0&&(h=k.getAbsoluteDistance(r[n-1],e.margin,!1),i=Math.max(i,h)),u&&n<x.length-1&&(h=k.getAbsoluteDistance(r[n+1],e.margin,!0),i=Math.min(i,h))),x.length>1&&e.limit&&(a&&n>0&&(h=k.getAbsoluteDistance(r[n-1],e.limit,!1),i=Math.min(i,h)),u&&n<x.length-1&&(h=k.getAbsoluteDistance(r[n+1],e.limit,!0),i=Math.max(i,h))),e.padding&&(n===0&&(h=k.getAbsoluteDistance(0,e.padding[0],!1),i=Math.max(i,h)),n===x.length-1&&(h=k.getAbsoluteDistance(100,e.padding[1],!0),i=Math.min(i,h))),S||(i=k.getStep(i)),i=v(i),i===r[n]&&!c?!1:i}function tt(r,n){var i=e.ort;return(i?n:r)+", "+(i?r:n)}function xt(r,n,i,a,u){var c=i.slice(),S=a[0],h=e.events.smoothSteps,V=[!r,r],A=[r,!r];a=a.slice(),r&&a.reverse(),a.length>1?a.forEach(function(O,q){var z=De(c,O,c[O]+n,V[q],A[q],!1,h);z===!1?n=0:(n=z-c[O],c[O]=z)}):V=A=[!0];var U=!1;a.forEach(function(O,q){U=de(O,i[O]+n,V[q],A[q],!1,h)||U}),U&&(a.forEach(function(O){N("update",O),N("slide",O)}),u!=null&&N("drag",S))}function Pt(r,n){return e.dir?100-r-n:r}function Zr(r,n){H[r]=n,re[r]=k.fromStepping(n);var i=Pt(n,0)-Ar,a="translate("+tt(i+"%","0")+")";x[r].style[e.transformRule]=a,_t(r),_t(r+1)}function rt(){G.forEach(function(r){var n=H[r]>50?-1:1,i=3+(x.length+n*r);x[r].style.zIndex=String(i)})}function de(r,n,i,a,u,c){return u||(n=De(H,r,n,i,a,!1,c)),n===!1?!1:(Zr(r,n),!0)}function _t(r){if(Y[r]){var n=0,i=100;r!==0&&(n=H[r-1]),r!==Y.length-1&&(i=H[r]);var a=i-n,u="translate("+tt(Pt(n,a)+"%","0")+")",c="scale("+tt(a/100,"1")+")";Y[r].style[e.transformRule]=u+" "+c}}function Lt(r,n){return r===null||r===!1||r===void 0||(typeof r=="number"&&(r=String(r)),r=e.format.from(r),r!==!1&&(r=k.toStepping(r)),r===!1||isNaN(r))?H[n]:r}function Ve(r,n,i){var a=L(r),u=H[0]===void 0;n=n===void 0?!0:n,e.animate&&!u&&ce(w,e.cssClasses.tap,e.animationDuration),G.forEach(function(h){de(h,Lt(a[h],h),!0,!1,i)});var c=G.length===1?0:1;if(u&&k.hasNoSize()&&(i=!0,H[0]=0,G.length>1)){var S=100/(G.length-1);G.forEach(function(h){H[h]=h*S})}for(;c<G.length;++c)G.forEach(function(h){de(h,H[h],!0,!0,i)});rt(),G.forEach(function(h){N("update",h),a[h]!==null&&n&&N("set",h)})}function Yr(r){Ve(e.start,r)}function Gr(r,n,i,a){if(r=Number(r),!(r>=0&&r<G.length))throw new Error("noUiSlider: invalid handle number, got: "+r);de(r,Lt(n,r),!0,!0,a),N("update",r),i&&N("set",r)}function kt(r){if(r===void 0&&(r=!1),r)return re.length===1?re[0]:re.slice(0);var n=re.map(e.format.to);return n.length===1?n[0]:n}function Wr(){for(be(oe.aria),be(oe.tooltips),Object.keys(e.cssClasses).forEach(function(r){W(w,e.cssClasses[r])});w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider}function qt(r){var n=H[r],i=k.getNearbySteps(n),a=re[r],u=i.thisStep.step,c=null;if(e.snap)return[a-i.stepBefore.startValue||null,i.stepAfter.startValue-a||null];u!==!1&&a+u>i.stepAfter.startValue&&(u=i.stepAfter.startValue-a),a>i.thisStep.startValue?c=i.thisStep.step:i.stepBefore.step===!1?c=!1:c=a-i.stepBefore.highestStep,n===100?u=null:n===0&&(c=null);var S=k.countStepDecimals();return u!==null&&u!==!1&&(u=Number(u.toFixed(S))),c!==null&&c!==!1&&(c=Number(c.toFixed(S))),[c,u]}function Jr(){return G.map(qt)}function Qr(r,n){var i=kt(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach(function(c){r[c]!==void 0&&(o[c]=r[c])});var u=vt(o);a.forEach(function(c){r[c]!==void 0&&(e[c]=u[c])}),k=u.spectrum,e.margin=u.margin,e.limit=u.limit,e.padding=u.padding,e.pips?We(e.pips):Ge(),e.tooltips?bt():Ye(),H=[],Ve(M(r.start)?r.start:i,n)}function en(){F=Mr(w),Vr(e.connect,F),Kr(e.events),Ve(e.start),e.pips&&We(e.pips),e.tooltips&&bt(),Fr()}en();var Me={destroy:Wr,steps:Jr,on:et,off:be,get:kt,set:Ve,setHandle:Gr,reset:Yr,__moveHandles:function(r,n,i){xt(r,n,H,i)},options:o,updateOptions:Qr,target:w,removePips:Ge,removeTooltips:Ye,getPositions:function(){return H.slice()},getTooltips:function(){return R},getOrigins:function(){return x},pips:We};return Me}function gt(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var o=vt(e),f=kr(t,o,e);return t.noUiSlider=f,f}var qr={__spectrum:ue,cssClasses:Ke,create:gt};s.create=gt,s.cssClasses=Ke,s.default=qr,Object.defineProperty(s,"__esModule",{value:!0})});ct.addEventListener("click",s=>{const l=s.target.closest(".picture");l&&Hn(l.dataset.pictureId)})});export default Nn();
